import{c as n,b as l,u as o,a as s,r as p,o as e}from"./app.a104fce0.js";var t=`<svg viewBox="0 0 1440 495" fill="none" xmlns="http://www.w3.org/2000/svg">\r
<rect y="191" width="315" height="146" rx="10" fill="#C3E88C"/>\r
<text fill="#15505C" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="40" font-weight="600" letter-spacing="0em"><tspan x="105.5" y="278.545">Entry</tspan></text>\r
<rect x="556" width="360" height="141" rx="10" fill="#C3E88C"/>\r
<text fill="#15505C" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="40" font-weight="600" letter-spacing="0em"><tspan x="594" y="85.0455">async chunk A</tspan></text>\r
<rect x="1080" y="169" width="360" height="141" rx="10" fill="#C3E88C"/>\r
<text fill="#15505C" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="40" font-weight="600" letter-spacing="0em"><tspan x="1091.5" y="254.045">common chunk C</tspan></text>\r
<rect x="556" y="354" width="360" height="141" rx="10" fill="#C3E88C"/>\r
<text fill="#15505C" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="40" font-weight="600" letter-spacing="0em"><tspan x="595.5" y="439.045">async chunk B</tspan></text>\r
<path d="M546.44 71.5452C546.741 70.1977 545.893 68.8613 544.545 68.5602L522.587 63.6533C521.239 63.3522 519.903 64.2004 519.602 65.5479C519.301 66.8954 520.149 68.2318 521.496 68.5329L541.015 72.8946L536.653 92.4132C536.352 93.7607 537.2 95.0971 538.548 95.3983C539.895 95.6994 541.232 94.8511 541.533 93.5036L546.44 71.5452ZM326.34 212.111L334.161 207.146L331.482 202.925L323.66 207.889L326.34 212.111ZM349.804 197.218L365.447 187.289L362.767 183.068L347.125 192.996L349.804 197.218ZM381.09 177.361L396.733 167.432L394.053 163.211L378.41 173.139L381.09 177.361ZM412.375 157.504L428.018 147.575L425.339 143.354L409.696 153.282L412.375 157.504ZM443.661 137.646L459.304 127.718L456.625 123.496L440.982 133.425L443.661 137.646ZM474.947 117.789L490.59 107.861L487.91 103.639L472.267 113.568L474.947 117.789ZM506.233 97.9322L521.875 88.0036L519.196 83.7821L503.553 93.7107L506.233 97.9322ZM537.518 78.075L545.34 73.1107L542.66 68.8893L534.839 73.8536L537.518 78.075ZM548.88 72.0904C549.482 69.3955 547.785 66.7226 545.09 66.1204L501.174 56.3065C498.479 55.7043 495.806 57.4008 495.203 60.0958C494.601 62.7907 496.298 65.4636 498.993 66.0658L538.03 74.7892L529.307 113.826C528.704 116.521 530.401 119.194 533.096 119.796C535.791 120.399 538.464 118.702 539.066 116.007L548.88 72.0904ZM327.679 214.221L335.501 209.257L330.142 200.814L322.321 205.779L327.679 214.221ZM351.144 199.329L366.787 189.4L361.428 180.957L345.785 190.886L351.144 199.329ZM382.429 179.471L398.072 169.543L392.713 161.1L377.071 171.029L382.429 179.471ZM413.715 159.614L429.358 149.686L423.999 141.243L408.356 151.171L413.715 159.614ZM445.001 139.757L460.644 129.829L455.285 121.386L439.642 131.314L445.001 139.757ZM476.287 119.9L491.929 109.971L486.571 101.529L470.928 111.457L476.287 119.9ZM507.572 100.043L523.215 90.1143L517.856 81.6714L502.213 91.6L507.572 100.043ZM538.858 80.1858L546.679 75.2215L541.321 66.7785L533.499 71.7428L538.858 80.1858Z" fill="#0B7285"/>\r
<path d="M544.718 442.395C546.04 441.998 546.791 440.605 546.395 439.282L539.935 417.729C539.539 416.407 538.145 415.656 536.823 416.052C535.5 416.449 534.749 417.842 535.146 419.165L540.888 438.323L521.729 444.065C520.407 444.461 519.656 445.855 520.052 447.177C520.449 448.5 521.842 449.251 523.165 448.854L544.718 442.395ZM323.814 324.201L331.636 328.415L334.007 324.013L326.186 319.799L323.814 324.201ZM347.278 336.844L362.921 345.272L365.293 340.871L349.65 332.442L347.278 336.844ZM378.564 353.701L394.207 362.129L396.579 357.728L380.936 349.299L378.564 353.701ZM409.85 370.558L425.493 378.987L427.864 374.585L412.222 366.156L409.85 370.558ZM441.136 387.415L456.778 395.844L459.15 391.442L443.507 383.013L441.136 387.415ZM472.421 404.272L488.064 412.701L490.436 408.299L474.793 399.871L472.421 404.272ZM503.707 421.129L519.35 429.558L521.722 425.156L506.079 416.728L503.707 421.129ZM534.993 437.987L542.814 442.201L545.186 437.799L537.364 433.585L534.993 437.987ZM545.435 444.79C548.081 443.997 549.582 441.21 548.79 438.565L535.871 395.459C535.078 392.814 532.291 391.312 529.646 392.105C527 392.898 525.499 395.685 526.292 398.33L537.775 436.646L499.459 448.129C496.814 448.922 495.312 451.709 496.105 454.354C496.898 457 499.685 458.501 502.33 457.708L545.435 444.79ZM322.628 326.402L330.45 330.616L335.193 321.813L327.372 317.598L322.628 326.402ZM346.093 339.045L361.735 347.473L366.479 338.67L350.836 330.241L346.093 339.045ZM377.378 355.902L393.021 364.33L397.765 355.527L382.122 347.098L377.378 355.902ZM408.664 372.759L424.307 381.187L429.05 372.384L413.407 363.955L408.664 372.759ZM439.95 389.616L455.593 398.045L460.336 389.241L444.693 380.813L439.95 389.616ZM471.235 406.473L486.878 414.902L491.622 406.098L475.979 397.67L471.235 406.473ZM502.521 423.33L518.164 431.759L522.907 422.955L507.265 414.527L502.521 423.33ZM533.807 440.187L541.628 444.402L546.372 435.598L538.55 431.384L533.807 440.187Z" fill="#0B7285"/>\r
<text fill="#0B7285" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="35" letter-spacing="0em"><tspan x="172" y="98.7273">dynamic import</tspan></text>\r
<text fill="#1864AB" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="35" letter-spacing="0em"><tspan x="1013" y="83.7273">direct import</tspan></text>\r
<path d="M1071.89 171.899C1074.05 171.404 1075.39 169.258 1074.9 167.105L1066.85 132.017C1066.35 129.864 1064.21 128.519 1062.05 129.014C1059.9 129.508 1058.55 131.654 1059.05 133.807L1066.21 164.996L1035.02 172.154C1032.86 172.648 1031.52 174.795 1032.01 176.948C1032.51 179.101 1034.65 180.446 1036.81 179.952L1071.89 171.899ZM918.876 77.3895L1068.88 171.389L1073.12 164.611L923.124 70.6105L918.876 77.3895Z" fill="#1864AB"/>\r
<path d="M1074.95 317.66C1075.31 315.481 1073.84 313.419 1071.66 313.055L1036.15 307.114C1033.97 306.75 1031.91 308.22 1031.55 310.399C1031.18 312.578 1032.65 314.64 1034.83 315.004L1066.39 320.285L1061.11 351.846C1060.75 354.025 1062.22 356.087 1064.4 356.452C1066.58 356.816 1068.64 355.345 1069 353.167L1074.95 317.66ZM923.323 427.256L1073.32 320.256L1068.68 313.744L918.677 420.744L923.323 427.256Z" fill="#1864AB"/>\r
</svg>\r
`;const c=s(`<h1 id="features" tabindex="-1">\u529F\u80FD <a class="header-anchor" href="#features">\xB6</a></h1><p>\u5BF9\u975E\u5E38\u57FA\u7840\u7684\u4F7F\u7528\u6765\u8BF4\uFF0C\u4F7F\u7528 Vite \u5F00\u53D1\u548C\u4F7F\u7528\u4E00\u4E2A\u9759\u6001\u6587\u4EF6\u670D\u52A1\u5668\u5E76\u6CA1\u6709\u592A\u5927\u533A\u522B\u3002\u7136\u800C\uFF0CVite \u8FD8\u901A\u8FC7\u539F\u751F ESM \u5BFC\u5165\u63D0\u4F9B\u4E86\u8BB8\u591A\u4E3B\u8981\u7528\u4E8E\u6253\u5305\u573A\u666F\u7684\u589E\u5F3A\u529F\u80FD\u3002</p><h2 id="npm-dependency-resolving-and-pre-bundling" tabindex="-1">NPM \u4F9D\u8D56\u89E3\u6790\u548C\u9884\u6784\u5EFA <a class="header-anchor" href="#npm-dependency-resolving-and-pre-bundling">\xB6</a></h2><p>\u539F\u751F ES \u5BFC\u5165\u4E0D\u652F\u6301\u4E0B\u9762\u8FD9\u6837\u7684\u88F8\u6A21\u5757\u5BFC\u5165\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">someMethod</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">my-dep</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre></div><p>\u4E0A\u9762\u7684\u4EE3\u7801\u4F1A\u5728\u6D4F\u89C8\u5668\u4E2D\u629B\u51FA\u4E00\u4E2A\u9519\u8BEF\u3002Vite \u5C06\u4F1A\u68C0\u6D4B\u5230\u6240\u6709\u88AB\u52A0\u8F7D\u7684\u6E90\u6587\u4EF6\u4E2D\u7684\u6B64\u7C7B\u88F8\u6A21\u5757\u5BFC\u5165\uFF0C\u5E76\u6267\u884C\u4EE5\u4E0B\u64CD\u4F5C:</p><ol><li><p><a href="./dep-pre-bundling.html">\u9884\u6784\u5EFA</a> \u5B83\u4EEC\u53EF\u4EE5\u63D0\u9AD8\u9875\u9762\u52A0\u8F7D\u901F\u5EA6\uFF0C\u5E76\u5C06 CommonJS / UMD \u8F6C\u6362\u4E3A ESM \u683C\u5F0F\u3002\u9884\u6784\u5EFA\u8FD9\u4E00\u6B65\u7531 <a href="http://esbuild.github.io/" target="_blank" rel="noopener noreferrer">esbuild</a> \u6267\u884C\uFF0C\u8FD9\u4F7F\u5F97 Vite \u7684\u51B7\u542F\u52A8\u65F6\u95F4\u6BD4\u4EFB\u4F55\u57FA\u4E8E JavaScript \u7684\u6253\u5305\u5668\u90FD\u8981\u5FEB\u5F97\u591A\u3002</p></li><li><p>\u91CD\u5199\u5BFC\u5165\u4E3A\u5408\u6CD5\u7684 URL\uFF0C\u4F8B\u5982 <code>/node_modules/.vite/deps/my-dep.js?v=f3sf2ebd</code> \u4EE5\u4FBF\u6D4F\u89C8\u5668\u80FD\u591F\u6B63\u786E\u5BFC\u5165\u5B83\u4EEC\u3002</p></li></ol><p><strong>\u4F9D\u8D56\u662F\u5F3A\u7F13\u5B58\u7684</strong></p><p>Vite \u901A\u8FC7 HTTP \u5934\u6765\u7F13\u5B58\u8BF7\u6C42\u5F97\u5230\u7684\u4F9D\u8D56\uFF0C\u6240\u4EE5\u5982\u679C\u4F60\u60F3\u8981\u7F16\u8F91\u6216\u8C03\u8BD5\u4E00\u4E2A\u4F9D\u8D56\uFF0C\u8BF7\u6309\u7167 <a href="./dep-pre-bundling.html#\u6D4F\u89C8\u5668\u7F13\u5B58">\u8FD9\u91CC</a> \u7684\u6B65\u9AA4\u64CD\u4F5C\u3002</p><h2 id="hot-module-replacement" tabindex="-1">\u6A21\u5757\u70ED\u66FF\u6362 <a class="header-anchor" href="#hot-module-replacement">\xB6</a></h2><p>Vite \u63D0\u4F9B\u4E86\u4E00\u5957\u539F\u751F ESM \u7684 <a href="./api-hmr.html">HMR API</a>\u3002 \u5177\u6709 HMR \u529F\u80FD\u7684\u6846\u67B6\u53EF\u4EE5\u5229\u7528\u8BE5 API \u63D0\u4F9B\u5373\u65F6\u3001\u51C6\u786E\u7684\u66F4\u65B0\uFF0C\u800C\u65E0\u9700\u91CD\u65B0\u52A0\u8F7D\u9875\u9762\u6216\u6E05\u9664\u5E94\u7528\u7A0B\u5E8F\u72B6\u6001\u3002Vite \u5185\u7F6E\u4E86 HMR \u5230 <a href="https://github.com/vitejs/vite/tree/main/packages/plugin-vue" target="_blank" rel="noopener noreferrer">Vue \u5355\u6587\u4EF6\u7EC4\u4EF6\uFF08SFC\uFF09</a> \u548C <a href="https://github.com/vitejs/vite/tree/main/packages/plugin-react" target="_blank" rel="noopener noreferrer">React Fast Refresh</a> \u4E2D\u3002\u4E5F\u901A\u8FC7 <a href="https://github.com/JoviDeCroock/prefresh/tree/main/packages/vite" target="_blank" rel="noopener noreferrer">@prefresh/vite</a> \u5BF9 Preact \u5B9E\u73B0\u4E86\u5B98\u65B9\u96C6\u6210\u3002</p><p>\u6CE8\u610F\uFF0C\u4F60\u4E0D\u9700\u8981\u624B\u52A8\u8BBE\u7F6E\u8FD9\u4E9B \u2014\u2014 \u5F53\u4F60\u901A\u8FC7 <a href="./"><code>create-vite</code></a> \u521B\u5EFA\u5E94\u7528\u7A0B\u5E8F\u65F6\uFF0C\u6240\u9009\u6A21\u677F\u5DF2\u7ECF\u4E3A\u4F60\u9884\u5148\u914D\u7F6E\u4E86\u8FD9\u4E9B\u3002</p><h2 id="typescript" tabindex="-1">TypeScript <a class="header-anchor" href="#typescript">\xB6</a></h2><p>Vite \u5929\u7136\u652F\u6301\u5F15\u5165 <code>.ts</code> \u6587\u4EF6\u3002</p><p>Vite \u4EC5\u6267\u884C <code>.ts</code> \u6587\u4EF6\u7684\u8F6C\u8BD1\u5DE5\u4F5C\uFF0C\u5E76 <strong>\u4E0D</strong> \u6267\u884C\u4EFB\u4F55\u7C7B\u578B\u68C0\u67E5\u3002\u5E76\u5047\u8BBE\u7C7B\u578B\u68C0\u67E5\u5DF2\u7ECF\u88AB\u4F60\u7684 IDE \u6216\u6784\u5EFA\u8FC7\u7A0B\u63A5\u7BA1\u4E86\uFF08\u4F60\u53EF\u4EE5\u5728\u6784\u5EFA\u811A\u672C\u4E2D\u8FD0\u884C <code>tsc --noEmit</code> \u6216\u8005\u5B89\u88C5 <code>vue-tsc</code> \u7136\u540E\u8FD0\u884C <code>vue-tsc --noEmit</code> \u6765\u5BF9\u4F60\u7684 <code>*.vue</code> \u6587\u4EF6\u505A\u7C7B\u578B\u68C0\u67E5\uFF09\u3002</p><p>Vite \u4F7F\u7528 <a href="https://github.com/evanw/esbuild" target="_blank" rel="noopener noreferrer">esbuild</a> \u5C06 TypeScript \u8F6C\u8BD1\u5230 JavaScript\uFF0C\u7EA6\u662F <code>tsc</code> \u901F\u5EA6\u7684 20~30 \u500D\uFF0C\u540C\u65F6 HMR \u66F4\u65B0\u53CD\u6620\u5230\u6D4F\u89C8\u5668\u7684\u65F6\u95F4\u5C0F\u4E8E 50ms\u3002</p><p>\u4F7F\u7528 <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-8.html#type-only-imports-and-export" target="_blank" rel="noopener noreferrer">\u4EC5\u542B\u7C7B\u578B\u7684\u5BFC\u5165\u548C\u5BFC\u51FA</a> \u5F62\u5F0F\u7684\u8BED\u6CD5\u53EF\u4EE5\u907F\u514D\u6F5C\u5728\u7684 \u201C\u4EC5\u542B\u7C7B\u578B\u7684\u5BFC\u5165\u88AB\u4E0D\u6B63\u786E\u6253\u5305\u201D \u7684\u95EE\u9898\uFF0C\u5199\u6CD5\u793A\u4F8B\u5982\u4E0B\uFF1A</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">T</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">only/types</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">T</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="typescript-compiler-options" tabindex="-1">TypeScript \u7F16\u8BD1\u5668\u9009\u9879 <a class="header-anchor" href="#typescript-compiler-options">\xB6</a></h3><p><code>tsconfig.json</code> \u4E2D <code>compilerOptions</code> \u4E0B\u7684\u4E00\u4E9B\u914D\u7F6E\u9879\u9700\u8981\u7279\u522B\u6CE8\u610F\u3002</p><h4 id="isolatedmodules" tabindex="-1"><code>isolatedModules</code> <a class="header-anchor" href="#isolatedmodules">\xB6</a></h4><p>\u5E94\u8BE5\u8BBE\u7F6E\u4E3A <code>true</code>\u3002</p><p>\u8FD9\u662F\u56E0\u4E3A <code>esbuild</code> \u53EA\u6267\u884C\u6CA1\u6709\u7C7B\u578B\u4FE1\u606F\u7684\u8F6C\u8BD1\uFF0C\u5B83\u5E76\u4E0D\u652F\u6301\u67D0\u4E9B\u7279\u6027\uFF0C\u5982 <code>const enum</code> \u548C\u9690\u5F0F\u7C7B\u578B\u5BFC\u5165\u3002</p><p>\u4F60\u5FC5\u987B\u5728 <code>tsconfig.json</code> \u4E2D\u7684 <code>compilerOptions</code> \u4E0B\u8BBE\u7F6E <code>&quot;isolatedModules&quot;: true</code>\u3002\u5982\u6B64\u505A\uFF0CTS \u4F1A\u8B66\u544A\u4F60\u4E0D\u8981\u4F7F\u7528\u9694\u79BB\uFF08isolated\uFF09\u8F6C\u8BD1\u7684\u529F\u80FD\u3002</p><p>\u7136\u800C\uFF0C\u4E00\u4E9B\u5E93\uFF08\u5982\uFF1A<a href="https://github.com/vuejs/core/issues/1228" target="_blank" rel="noopener noreferrer"><code>vue</code></a>\uFF09\u4E0D\u80FD\u5F88\u597D\u5730\u4E0E <code>&quot;isolatedModules&quot;: true</code> \u5171\u540C\u5DE5\u4F5C\u3002\u4F60\u53EF\u4EE5\u5728\u4E0A\u6E38\u4ED3\u5E93\u4FEE\u590D\u597D\u4E4B\u524D\u6682\u65F6\u4F7F\u7528 <code>&quot;skipLibCheck&quot;: true</code> \u6765\u7F13\u89E3\u8FD9\u4E2A\u9519\u8BEF\u3002</p><h4 id="usedefineforclassfields" tabindex="-1"><code>useDefineForClassFields</code> <a class="header-anchor" href="#usedefineforclassfields">\xB6</a></h4><p>\u4ECE Vite v2.5.0 \u5F00\u59CB\uFF0C\u5982\u679C TypeScript \u7684 target \u662F <code>ES2022</code> \u6216\u66F4\u9AD8\uFF0C\u5305\u62EC <code>ESNext</code>\uFF0C\u5219\u6B64\u9009\u9879\u9ED8\u8BA4\u503C\u4E3A <code>true</code>\u3002\u8FD9\u4E0E <a href="https://github.com/microsoft/TypeScript/pull/42663" target="_blank" rel="noopener noreferrer"><code>tsc</code> v4.3.2 \u53CA\u4EE5\u540E\u7248\u672C\u7684\u884C\u4E3A</a> \u4E00\u81F4\u3002\u8FD9\u4E5F\u662F\u6807\u51C6\u7684 ECMAScript \u7684\u8FD0\u884C\u65F6\u884C\u4E3A\u3002</p><p>\u4F46\u5BF9\u4E8E\u90A3\u4E9B\u4E60\u60EF\u5176\u4ED6\u7F16\u7A0B\u8BED\u8A00\u6216\u65E7\u7248\u672C TypeScript \u7684\u5F00\u53D1\u8005\u6765\u8BF4\uFF0C\u8FD9\u53EF\u80FD\u662F\u8FDD\u53CD\u76F4\u89C9\u7684\u3002 \u4F60\u53EF\u4EE5\u53C2\u9605 <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html#the-usedefineforclassfields-flag-and-the-declare-property-modifier" target="_blank" rel="noopener noreferrer">TypeScript 3.7 \u53D1\u5E03\u65E5\u5FD7</a> \u4E2D\u4E86\u89E3\u66F4\u591A\u5173\u4E8E\u5982\u4F55\u517C\u5BB9\u7684\u4FE1\u606F\u3002</p><p>\u5982\u679C\u4F60\u6B63\u5728\u4F7F\u7528\u4E00\u4E2A\u4E25\u91CD\u4F9D\u8D56 class fields \u7684\u5E93\uFF0C\u8BF7\u6CE8\u610F\u8BE5\u5E93\u5BF9\u6B64\u9009\u9879\u7684\u9884\u671F\u8BBE\u7F6E\u3002</p><p>\u5927\u591A\u6570\u5E93\u90FD\u5E0C\u671B <code>&quot;useDefineForClassFields&quot;: true</code>\uFF0C\u5982 <a href="https://mobx.js.org/installation.html#use-spec-compliant-transpilation-for-class-properties" target="_blank" rel="noopener noreferrer">MobX</a>\uFF0C<a href="https://github.com/vuejs/vue-class-component/issues/465" target="_blank" rel="noopener noreferrer">Vue Class Components 8.x</a> \u7B49\u3002</p><p>\u4F46\u662F\u6709\u51E0\u4E2A\u5E93\u8FD8\u6CA1\u6709\u517C\u5BB9\u8FD9\u4E2A\u65B0\u7684\u9ED8\u8BA4\u503C\uFF0C\u5176\u4E2D\u5305\u62EC <a href="https://github.com/lit/lit-element/issues/1030" target="_blank" rel="noopener noreferrer"><code>lit-element</code></a>\u3002\u5982\u679C\u9047\u5230\u8FD9\u79CD\u60C5\u51B5\uFF0C\u8BF7\u5C06 <code>useDefineForClassFields</code> \u8BBE\u7F6E\u4E3A <code>false</code>\u3002</p><h4 id="other-compiler-options-affecting-the-build-result" tabindex="-1">\u5F71\u54CD\u6784\u5EFA\u7ED3\u679C\u7684\u5176\u4ED6\u7F16\u8BD1\u5668\u9009\u9879 <a class="header-anchor" href="#other-compiler-options-affecting-the-build-result">\xB6</a></h4><ul><li><a href="https://www.typescriptlang.org/tsconfig#extends" target="_blank" rel="noopener noreferrer"><code>extends</code></a></li><li><a href="https://www.typescriptlang.org/tsconfig#alwaysStrict" target="_blank" rel="noopener noreferrer"><code>alwaysStrict</code></a></li><li><a href="https://www.typescriptlang.org/tsconfig#importsNotUsedAsValues" target="_blank" rel="noopener noreferrer"><code>importsNotUsedAsValues</code></a></li><li><a href="https://www.typescriptlang.org/tsconfig#jsx" target="_blank" rel="noopener noreferrer"><code>jsx</code></a></li><li><a href="https://www.typescriptlang.org/tsconfig#jsxFactory" target="_blank" rel="noopener noreferrer"><code>jsxFactory</code></a></li><li><a href="https://www.typescriptlang.org/tsconfig#jsxFragmentFactory" target="_blank" rel="noopener noreferrer"><code>jsxFragmentFactory</code></a></li><li><a href="https://www.typescriptlang.org/tsconfig#jsxImportSource" target="_blank" rel="noopener noreferrer"><code>jsxImportSource</code></a></li><li><a href="https://www.typescriptlang.org/tsconfig#preserveValueImports" target="_blank" rel="noopener noreferrer"><code>preserveValueImports</code></a></li></ul><p>\u5982\u679C\u4F60\u7684\u4EE3\u7801\u5E93\u5F88\u96BE\u8FC1\u79FB\u5230 <code>&quot;isolatedModules&quot;: true</code>\uFF0C\u6216\u8BB8\u4F60\u53EF\u4EE5\u5C1D\u8BD5\u901A\u8FC7\u7B2C\u4E09\u65B9\u63D2\u4EF6\u6765\u89E3\u51B3\uFF0C\u6BD4\u5982 <a href="https://www.npmjs.com/package/rollup-plugin-friendly-type-imports" target="_blank" rel="noopener noreferrer">rollup-plugin-friendly-type-imports</a>\u3002\u4F46\u662F\uFF0C\u8FD9\u79CD\u65B9\u5F0F\u4E0D\u88AB Vite \u5B98\u65B9\u652F\u6301\u3002</p><h3 id="client-types" tabindex="-1">\u5BA2\u6237\u7AEF\u7C7B\u578B <a class="header-anchor" href="#client-types">\xB6</a></h3><p>Vite \u9ED8\u8BA4\u7684\u7C7B\u578B\u5B9A\u4E49\u662F\u5199\u7ED9\u5B83\u7684 Node.js API \u7684\u3002\u8981\u5C06\u5176\u8865\u5145\u5230\u4E00\u4E2A Vite \u5E94\u7528\u7684\u5BA2\u6237\u7AEF\u4EE3\u7801\u73AF\u5883\u4E2D\uFF0C\u8BF7\u6DFB\u52A0\u4E00\u4E2A <code>d.ts</code> \u58F0\u660E\u6587\u4EF6\uFF1A</p><div class="language-typescript"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">reference</span><span style="color:#89DDFF;font-style:italic;"> </span><span style="color:#C792EA;font-style:italic;">types</span><span style="color:#89DDFF;font-style:italic;">=</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#C3E88D;font-style:italic;">vite/client</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#89DDFF;font-style:italic;"> /&gt;</span></span>
<span class="line"></span></code></pre></div><p>\u540C\u65F6\uFF0C\u4F60\u4E5F\u53EF\u4EE5\u5C06 <code>vite/client</code> \u6DFB\u52A0\u5230 <code>tsconfig</code> \u4E2D\u7684 <code>compilerOptions.types</code> \u4E0B\uFF1A</p><div class="language-json"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">compilerOptions</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">types</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vite/client</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u8FD9\u5C06\u4F1A\u63D0\u4F9B\u4EE5\u4E0B\u7C7B\u578B\u5B9A\u4E49\u8865\u5145\uFF1A</p><ul><li>\u8D44\u6E90\u5BFC\u5165 (\u4F8B\u5982\uFF1A\u5BFC\u5165\u4E00\u4E2A <code>.svg</code> \u6587\u4EF6)</li><li><code>import.<wbr>meta.env</code> \u4E0A Vite \u6CE8\u5165\u7684\u73AF\u5883\u53D8\u91CF\u7684\u7C7B\u578B\u5B9A\u4E49</li><li><code>import.<wbr>meta.hot</code> \u4E0A\u7684 <a href="./api-hmr.html">HMR API</a> \u7C7B\u578B\u5B9A\u4E49</li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>\u8981\u8986\u76D6\u9ED8\u8BA4\u7684\u7C7B\u578B\u5B9A\u4E49\uFF0C\u8BF7\u5728\u4E09\u659C\u7EBF\u6CE8\u91CA\u524D\u6DFB\u52A0\u5B9A\u4E49\u3002\u4F8B\u5982\uFF0C\u8981\u4E3A React \u7EC4\u4EF6\u4E2D\u7684 <code>*.svg</code> \u6587\u4EF6\u5B9A\u4E49\u7C7B\u578B\uFF1A</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">declare</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">module</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">*.svg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">content</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">React</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">FC</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">React</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">SVGProps</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">SVGElement</span><span style="color:#89DDFF;">&gt;&gt;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">content</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">reference</span><span style="color:#89DDFF;font-style:italic;"> </span><span style="color:#C792EA;font-style:italic;">types</span><span style="color:#89DDFF;font-style:italic;">=</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#C3E88D;font-style:italic;">vite/client</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#89DDFF;font-style:italic;"> /&gt;</span></span>
<span class="line"></span></code></pre></div></div><h2 id="vue" tabindex="-1">Vue <a class="header-anchor" href="#vue">\xB6</a></h2><p>Vite \u4E3A Vue \u63D0\u4F9B\u7B2C\u4E00\u4F18\u5148\u7EA7\u652F\u6301\uFF1A</p><ul><li>Vue 3 \u5355\u6587\u4EF6\u7EC4\u4EF6\u652F\u6301\uFF1A<a href="https://github.com/vitejs/vite/tree/main/packages/plugin-vue" target="_blank" rel="noopener noreferrer">@vitejs/plugin-vue</a></li><li>Vue 3 JSX \u652F\u6301\uFF1A<a href="https://github.com/vitejs/vite/tree/main/packages/plugin-vue-jsx" target="_blank" rel="noopener noreferrer">@vitejs/plugin-vue-jsx</a></li><li>Vue 2.7 \u652F\u6301\uFF1A<a href="https://github.com/vitejs/vite-plugin-vue2" target="_blank" rel="noopener noreferrer">@vitejs/vite-plugin-vue2</a></li><li>Vue &lt;2.7 \u7684\u652F\u6301\uFF1A<a href="https://github.com/underfin/vite-plugin-vue2" target="_blank" rel="noopener noreferrer">underfin/vite-plugin-vue2</a></li></ul><h2 id="jsx" tabindex="-1">JSX <a class="header-anchor" href="#jsx">\xB6</a></h2><p><code>.jsx</code> \u548C <code>.tsx</code> \u6587\u4EF6\u540C\u6837\u5F00\u7BB1\u5373\u7528\u3002JSX \u7684\u8F6C\u8BD1\u540C\u6837\u662F\u901A\u8FC7 <a href="https://esbuild.github.io" target="_blank" rel="noopener noreferrer">esbuild</a>\u3002</p><p>Vue \u7528\u6237\u5E94\u4F7F\u7528\u5B98\u65B9\u63D0\u4F9B\u7684 <a href="https://github.com/vitejs/vite/tree/main/packages/plugin-vue-jsx" target="_blank" rel="noopener noreferrer">@vitejs/plugin-vue-jsx</a> \u63D2\u4EF6\uFF0C\u5B83\u63D0\u4F9B\u4E86 Vue 3 \u7279\u6027\u7684\u652F\u6301\uFF0C\u5305\u62EC HMR\uFF0C\u5168\u5C40\u7EC4\u4EF6\u89E3\u6790\uFF0C\u6307\u4EE4\u548C\u63D2\u69FD\u3002</p><p>\u5982\u679C\u4E0D\u662F\u5728 React \u6216 Vue \u4E2D\u4F7F\u7528 JSX\uFF0C\u81EA\u5B9A\u4E49\u7684 <code>jsxFactory</code> \u548C <code>jsxFragment</code> \u53EF\u4EE5\u4F7F\u7528 <a href="/config/shared-options.html#esbuild"><code>esbuild</code> \u9009\u9879</a> \u8FDB\u884C\u914D\u7F6E\u3002\u4F8B\u5982\u5BF9 Preact\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// vite.config.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">defineConfig</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vite</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineConfig</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">esbuild</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">jsxFactory</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">jsxFragment</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Fragment</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>\u66F4\u591A\u7EC6\u8282\u8BE6\u89C1 <a href="https://esbuild.github.io/content-types/#jsx" target="_blank" rel="noopener noreferrer">esbuild \u6587\u6863</a>.</p><p>\u4F60\u53EF\u4EE5\u4F7F\u7528 <code>jsxInject</code>\uFF08\u8FD9\u662F\u4E00\u4E2A\u4EC5\u5728 Vite \u4E2D\u4F7F\u7528\u7684\u9009\u9879\uFF09\u4E3A JSX \u6CE8\u5165 helper\uFF0C\u4EE5\u907F\u514D\u624B\u52A8\u5BFC\u5165\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// vite.config.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">defineConfig</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vite</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineConfig</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">esbuild</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">jsxInject</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">import React from &#39;react&#39;</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="css" tabindex="-1">CSS <a class="header-anchor" href="#css">\xB6</a></h2><p>\u5BFC\u5165 <code>.css</code> \u6587\u4EF6\u5C06\u4F1A\u628A\u5185\u5BB9\u63D2\u5165\u5230 <code>&lt;style&gt;</code> \u6807\u7B7E\u4E2D\uFF0C\u540C\u65F6\u4E5F\u5E26\u6709 HMR \u652F\u6301\u3002\u4E5F\u80FD\u591F\u4EE5\u5B57\u7B26\u4E32\u7684\u5F62\u5F0F\u68C0\u7D22\u5904\u7406\u540E\u7684\u3001\u4F5C\u4E3A\u5176\u6A21\u5757\u9ED8\u8BA4\u5BFC\u51FA\u7684 CSS\u3002</p><h3 id="import-inlining-and-rebasing" tabindex="-1"><code>@import</code> \u5185\u8054\u548C\u53D8\u57FA <a class="header-anchor" href="#import-inlining-and-rebasing">\xB6</a></h3><p>Vite \u901A\u8FC7 <code>postcss-import</code> \u9884\u914D\u7F6E\u652F\u6301\u4E86 CSS <code>@import</code> \u5185\u8054\uFF0CVite \u7684\u8DEF\u5F84\u522B\u540D\u4E5F\u9075\u4ECE CSS <code>@import</code>\u3002\u6362\u53E5\u8BDD\u8BF4\uFF0C\u6240\u6709 CSS <code>url()</code> \u5F15\u7528\uFF0C\u5373\u4F7F\u5BFC\u5165\u7684\u6587\u4EF6\u5728\u4E0D\u540C\u7684\u76EE\u5F55\u4E2D\uFF0C\u4E5F\u603B\u662F\u81EA\u52A8\u53D8\u57FA\uFF0C\u4EE5\u786E\u4FDD\u6B63\u786E\u6027\u3002</p><p>Sass \u548C Less \u6587\u4EF6\u4E5F\u652F\u6301 <code>@import</code> \u522B\u540D\u548C URL \u53D8\u57FA\uFF08\u5177\u4F53\u8BF7\u53C2\u9605 <a href="#css-pre-processors">CSS Pre-processors</a>\uFF09\u3002</p><h3 id="postcss" tabindex="-1">PostCSS <a class="header-anchor" href="#postcss">\xB6</a></h3><p>\u5982\u679C\u9879\u76EE\u5305\u542B\u6709\u6548\u7684 PostCSS \u914D\u7F6E (\u4EFB\u4F55\u53D7 <a href="https://github.com/postcss/postcss-load-config" target="_blank" rel="noopener noreferrer">postcss-load-config</a> \u652F\u6301\u7684\u683C\u5F0F\uFF0C\u4F8B\u5982 <code>postcss.config.js</code>)\uFF0C\u5B83\u5C06\u4F1A\u81EA\u52A8\u5E94\u7528\u4E8E\u6240\u6709\u5DF2\u5BFC\u5165\u7684 CSS\u3002</p><h3 id="css-modules" tabindex="-1">CSS Modules <a class="header-anchor" href="#css-modules">\xB6</a></h3><p>\u4EFB\u4F55\u4EE5 <code>.module.css</code> \u4E3A\u540E\u7F00\u540D\u7684 CSS \u6587\u4EF6\u90FD\u88AB\u8BA4\u4E3A\u662F\u4E00\u4E2A <a href="https://github.com/css-modules/css-modules" target="_blank" rel="noopener noreferrer">CSS modules \u6587\u4EF6</a>\u3002\u5BFC\u5165\u8FD9\u6837\u7684\u6587\u4EF6\u4F1A\u8FD4\u56DE\u4E00\u4E2A\u76F8\u5E94\u7684\u6A21\u5757\u5BF9\u8C61\uFF1A</p><div class="language-css"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">/* example.module.css */</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">red</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> red</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> classes </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./example.module.css</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">className </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> classes</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">red</span></span>
<span class="line"></span></code></pre></div><p>CSS modules \u884C\u4E3A\u53EF\u4EE5\u901A\u8FC7 <a href="/config/shared-options.html#css-modules"><code>css.modules</code> \u9009\u9879</a> \u8FDB\u884C\u914D\u7F6E\u3002</p><p>\u5982\u679C <code>css.modules.localsConvention</code> \u8BBE\u7F6E\u5F00\u542F\u4E86 camelCase \u683C\u5F0F\u53D8\u91CF\u540D\u8F6C\u6362\uFF08\u4F8B\u5982 <code>localsConvention: &#39;camelCaseOnly&#39;</code>\uFF09\uFF0C\u4F60\u8FD8\u53EF\u4EE5\u4F7F\u7528\u6309\u540D\u5BFC\u5165\u3002</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// .apply-color -&gt; applyColor</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">applyColor</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./example.module.css</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">className </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> applyColor</span></span>
<span class="line"></span></code></pre></div><h3 id="css-pre-processors" tabindex="-1">CSS \u9884\u5904\u7406\u5668 <a class="header-anchor" href="#css-pre-processors">\xB6</a></h3><p>\u7531\u4E8E Vite \u7684\u76EE\u6807\u4EC5\u4E3A\u73B0\u4EE3\u6D4F\u89C8\u5668\uFF0C\u56E0\u6B64\u5EFA\u8BAE\u4F7F\u7528\u539F\u751F CSS \u53D8\u91CF\u548C\u5B9E\u73B0 CSSWG \u8349\u6848\u7684 PostCSS \u63D2\u4EF6\uFF08\u4F8B\u5982 <a href="https://github.com/csstools/postcss-plugins/tree/main/plugins/postcss-nesting" target="_blank" rel="noopener noreferrer">postcss-nesting</a>\uFF09\u6765\u7F16\u5199\u7B80\u5355\u7684\u3001\u7B26\u5408\u672A\u6765\u6807\u51C6\u7684 CSS\u3002</p><p>\u8BDD\u867D\u5982\u6B64\uFF0C\u4F46 Vite \u4E5F\u540C\u65F6\u63D0\u4F9B\u4E86\u5BF9 <code>.scss</code>, <code>.sass</code>, <code>.less</code>, <code>.styl</code> \u548C <code>.stylus</code> \u6587\u4EF6\u7684\u5185\u7F6E\u652F\u6301\u3002\u6CA1\u6709\u5FC5\u8981\u4E3A\u5B83\u4EEC\u5B89\u88C5\u7279\u5B9A\u7684 Vite \u63D2\u4EF6\uFF0C\u4F46\u5FC5\u987B\u5B89\u88C5\u76F8\u5E94\u7684\u9884\u5904\u7406\u5668\u4F9D\u8D56\uFF1A</p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;"># .scss and .sass</span></span>
<span class="line"><span style="color:#A6ACCD;">npm add -D sass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># .less</span></span>
<span class="line"><span style="color:#A6ACCD;">npm add -D less</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># .styl and .stylus</span></span>
<span class="line"><span style="color:#A6ACCD;">npm add -D stylus</span></span>
<span class="line"></span></code></pre></div><p>\u5982\u679C\u4F7F\u7528\u7684\u662F\u5355\u6587\u4EF6\u7EC4\u4EF6\uFF0C\u53EF\u4EE5\u901A\u8FC7 <code>&lt;style lang=&quot;sass&quot;&gt;</code>\uFF08\u6216\u5176\u4ED6\u9884\u5904\u7406\u5668\uFF09\u81EA\u52A8\u5F00\u542F\u3002</p><p>Vite \u4E3A Sass \u548C Less \u6539\u8FDB\u4E86 <code>@import</code> \u89E3\u6790\uFF0C\u4EE5\u4FDD\u8BC1 Vite \u522B\u540D\u4E5F\u80FD\u88AB\u4F7F\u7528\u3002\u53E6\u5916\uFF0C<code>url()</code> \u4E2D\u7684\u76F8\u5BF9\u8DEF\u5F84\u5F15\u7528\u7684\uFF0C\u4E0E\u6839\u6587\u4EF6\u4E0D\u540C\u76EE\u5F55\u4E2D\u7684 Sass/Less \u6587\u4EF6\u4F1A\u81EA\u52A8\u53D8\u57FA\u4EE5\u4FDD\u8BC1\u6B63\u786E\u6027\u3002</p><p>\u7531\u4E8E Stylus API \u9650\u5236\uFF0C<code>@import</code> \u522B\u540D\u548C URL \u53D8\u57FA\u4E0D\u652F\u6301 Stylus\u3002</p><p>\u4F60\u8FD8\u53EF\u4EE5\u901A\u8FC7\u5728\u6587\u4EF6\u6269\u5C55\u540D\u524D\u52A0\u4E0A <code>.module</code> \u6765\u7ED3\u5408\u4F7F\u7528 CSS modules \u548C\u9884\u5904\u7406\u5668\uFF0C\u4F8B\u5982 <code>style.module.scss</code>\u3002</p><h3 id="disabling-css-injection-into-the-page" tabindex="-1">\u7981\u7528 CSS \u6CE8\u5165\u9875\u9762 <a class="header-anchor" href="#disabling-css-injection-into-the-page">\xB6</a></h3><p>\u81EA\u52A8\u6CE8\u5165 CSS \u5185\u5BB9\u7684\u884C\u4E3A\u53EF\u4EE5\u901A\u8FC7 <code>?inline</code> \u53C2\u6570\u6765\u5173\u95ED\u3002\u5728\u5173\u95ED\u65F6\uFF0C\u88AB\u5904\u7406\u8FC7\u7684 CSS \u5B57\u7B26\u4E32\u5C06\u4F1A\u4F5C\u4E3A\u8BE5\u6A21\u5757\u7684\u9ED8\u8BA4\u5BFC\u51FA\uFF0C\u4F46\u6837\u5F0F\u5E76\u6CA1\u6709\u88AB\u6CE8\u5165\u5230\u9875\u9762\u4E2D\u3002</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> styles </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./foo.css</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// \u6837\u5F0F\u5C06\u4F1A\u6CE8\u5165\u9875\u9762</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> otherStyles </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./bar.css?inline</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// \u6837\u5F0F\u4E0D\u4F1A\u6CE8\u5165\u9875\u9762</span></span>
<span class="line"></span></code></pre></div><h2 id="static-assets" tabindex="-1">\u9759\u6001\u8D44\u6E90\u5904\u7406 <a class="header-anchor" href="#static-assets">\xB6</a></h2><p>\u5BFC\u5165\u4E00\u4E2A\u9759\u6001\u8D44\u6E90\u4F1A\u8FD4\u56DE\u89E3\u6790\u540E\u7684 URL\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> imgUrl </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./img.png</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hero-img</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">src </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> imgUrl</span></span>
<span class="line"></span></code></pre></div><p>\u6DFB\u52A0\u4E00\u4E9B\u7279\u6B8A\u7684\u67E5\u8BE2\u53C2\u6570\u53EF\u4EE5\u66F4\u6539\u8D44\u6E90\u88AB\u5F15\u5165\u7684\u65B9\u5F0F\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// \u663E\u5F0F\u52A0\u8F7D\u8D44\u6E90\u4E3A\u4E00\u4E2A URL</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> assetAsURL </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./asset.js?url</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre></div><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// \u4EE5\u5B57\u7B26\u4E32\u5F62\u5F0F\u52A0\u8F7D\u8D44\u6E90</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> assetAsString </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./shader.glsl?raw</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre></div><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// \u52A0\u8F7D\u4E3A Web Worker</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Worker </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./worker.js?worker</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre></div><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// \u5728\u6784\u5EFA\u65F6 Web Worker \u5185\u8054\u4E3A base64 \u5B57\u7B26\u4E32</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> InlineWorker </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./worker.js?worker&amp;inline</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre></div><p>\u66F4\u591A\u7EC6\u8282\u8BF7\u89C1 <a href="./assets.html">\u9759\u6001\u8D44\u6E90\u5904\u7406</a>\u3002</p><h2 id="json" tabindex="-1">JSON <a class="header-anchor" href="#json">\xB6</a></h2><p>JSON \u53EF\u4EE5\u88AB\u76F4\u63A5\u5BFC\u5165 \u2014\u2014 \u540C\u6837\u652F\u6301\u5177\u540D\u5BFC\u5165\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// \u5BFC\u5165\u6574\u4E2A\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> json </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./example.json</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// \u5BF9\u4E00\u4E2A\u6839\u5B57\u6BB5\u4F7F\u7528\u5177\u540D\u5BFC\u5165 \u2014\u2014 \u6709\u6548\u5E2E\u52A9 treeshaking\uFF01</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">field</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./example.json</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre></div><h2 id="glob-import" tabindex="-1">Glob \u5BFC\u5165 <a class="header-anchor" href="#glob-import">\xB6</a></h2><p>Vite \u652F\u6301\u4F7F\u7528\u7279\u6B8A\u7684 <code>import.<wbr>meta.glob</code> \u51FD\u6570\u4ECE\u6587\u4EF6\u7CFB\u7EDF\u5BFC\u5165\u591A\u4E2A\u6A21\u5757\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> modules </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">meta</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">glob</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/*.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>\u4EE5\u4E0A\u5C06\u4F1A\u88AB\u8F6C\u8BD1\u4E3A\u4E0B\u9762\u7684\u6837\u5B50\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// vite \u751F\u6210\u7684\u4EE3\u7801</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> modules </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">./dir/foo.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/foo.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">./dir/bar.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/bar.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u4F60\u53EF\u4EE5\u904D\u5386 <code>modules</code> \u5BF9\u8C61\u7684 key \u503C\u6765\u8BBF\u95EE\u76F8\u5E94\u7684\u6A21\u5757\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> (</span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> modules) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">modules</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">path</span><span style="color:#F07178;">]()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">mod</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">mod</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u5339\u914D\u5230\u7684\u6587\u4EF6\u9ED8\u8BA4\u662F\u61D2\u52A0\u8F7D\u7684\uFF0C\u901A\u8FC7\u52A8\u6001\u5BFC\u5165\u5B9E\u73B0\uFF0C\u5E76\u4F1A\u5728\u6784\u5EFA\u65F6\u5206\u79BB\u4E3A\u72EC\u7ACB\u7684 chunk\u3002\u5982\u679C\u4F60\u503E\u5411\u4E8E\u76F4\u63A5\u5F15\u5165\u6240\u6709\u7684\u6A21\u5757\uFF08\u4F8B\u5982\u4F9D\u8D56\u4E8E\u8FD9\u4E9B\u6A21\u5757\u4E2D\u7684\u526F\u4F5C\u7528\u9996\u5148\u88AB\u5E94\u7528\uFF09\uFF0C\u4F60\u53EF\u4EE5\u4F20\u5165 <code>{ eager: true }</code> \u4F5C\u4E3A\u7B2C\u4E8C\u4E2A\u53C2\u6570\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> modules </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">meta</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">glob</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/*.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">eager</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>\u4EE5\u4E0A\u4F1A\u88AB\u8F6C\u8BD1\u4E3A\u4E0B\u9762\u7684\u6837\u5B50\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// vite \u751F\u6210\u7684\u4EE3\u7801</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#A6ACCD;"> __glob__0_0 </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/foo.js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#A6ACCD;"> __glob__0_1 </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/bar.js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> modules </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">./dir/foo.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> __glob__0_0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">./dir/bar.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> __glob__0_1</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="glob-import-as" tabindex="-1">Glob \u5BFC\u5165\u5F62\u5F0F <a class="header-anchor" href="#glob-import-as">\xB6</a></h3><p><code>import.<wbr>meta.glob</code> \u90FD\u652F\u6301\u4EE5\u5B57\u7B26\u4E32\u5F62\u5F0F\u5BFC\u5165\u6587\u4EF6\uFF0C\u7C7B\u4F3C\u4E8E <a href="https://vitejs.dev/guide/assets.html#importing-asset-as-string" target="_blank" rel="noopener noreferrer">\u4EE5\u5B57\u7B26\u4E32\u5F62\u5F0F\u5BFC\u5165\u8D44\u6E90</a>\u3002\u5728\u8FD9\u91CC\uFF0C\u6211\u4EEC\u4F7F\u7528\u4E86 <a href="https://github.com/tc39/proposal-import-reflection" target="_blank" rel="noopener noreferrer">Import Reflection</a> \u8BED\u6CD5\u5BF9\u5BFC\u5165\u8FDB\u884C\u65AD\u8A00\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> modules </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">meta</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">glob</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/*.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">as</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">raw</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>\u4E0A\u9762\u7684\u4EE3\u7801\u4F1A\u88AB\u8F6C\u6362\u4E3A\u4E0B\u9762\u8FD9\u6837\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// code produced by vite\uFF08\u4EE3\u7801\u7531 vite \u8F93\u51FA\uFF09</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> modules </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">./dir/foo.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">export default &quot;foo&quot;</span><span style="color:#A6ACCD;">\\n</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">./dir/bar.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">export default &quot;bar&quot;</span><span style="color:#A6ACCD;">\\n</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><code>{ as: &#39;url&#39; }</code> \u8FD8\u652F\u6301\u5C06\u8D44\u6E90\u4F5C\u4E3A URL \u52A0\u8F7D\u3002</p><h3 id="multiple-patterns" tabindex="-1">\u591A\u4E2A\u5339\u914D\u6A21\u5F0F <a class="header-anchor" href="#multiple-patterns">\xB6</a></h3><p>\u7B2C\u4E00\u4E2A\u53C2\u6570\u53EF\u4EE5\u662F\u4E00\u4E2A glob \u6570\u7EC4\uFF0C\u4F8B\u5982\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> modules </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">meta</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">glob</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/*.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./another/*.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">])</span></span>
<span class="line"></span></code></pre></div><h3 id="negative-patterns" tabindex="-1">\u53CD\u9762\u5339\u914D\u6A21\u5F0F <a class="header-anchor" href="#negative-patterns">\xB6</a></h3><p>\u540C\u6837\u4E5F\u652F\u6301\u53CD\u9762 glob \u5339\u914D\u6A21\u5F0F\uFF08\u4EE5 <code>!</code> \u4F5C\u4E3A\u524D\u7F00\uFF09\u3002\u82E5\u8981\u5FFD\u7565\u7ED3\u679C\u4E2D\u7684\u4E00\u4E9B\u6587\u4EF6\uFF0C\u4F60\u53EF\u4EE5\u6DFB\u52A0\u201C\u6392\u9664\u5339\u914D\u6A21\u5F0F\u201D\u4F5C\u4E3A\u7B2C\u4E00\u4E2A\u53C2\u6570\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> modules </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">meta</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">glob</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/*.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">!**/bar.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">])</span></span>
<span class="line"></span></code></pre></div><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// vite \u751F\u6210\u7684\u4EE3\u7801</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> modules </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">./dir/foo.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/foo.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h4 id="named-imports" tabindex="-1">\u5177\u540D\u5BFC\u5165 <a class="header-anchor" href="#named-imports">\xB6</a></h4><p>\u4E5F\u53EF\u80FD\u4F60\u53EA\u60F3\u8981\u5BFC\u5165\u6A21\u5757\u4E2D\u7684\u90E8\u5206\u5185\u5BB9\uFF0C\u90A3\u4E48\u53EF\u4EE5\u5229\u7528 <code>import</code> \u9009\u9879\u3002</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> modules </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">meta</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">glob</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/*.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">import</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">setup</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// vite \u751F\u6210\u7684\u4EE3\u7801</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> modules </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">./dir/foo.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/foo.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">m</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> m</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">setup)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">./dir/bar.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/bar.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">m</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> m</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">setup)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u5F53\u4E0E <code>eager</code> \u4E00\u540C\u5B58\u5728\u65F6\uFF0C\u751A\u81F3\u53EF\u4EE5\u5BF9\u8FD9\u4E9B\u6A21\u5757\u8FDB\u884C tree-shaking\u3002</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> modules </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">meta</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">glob</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/*.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">import</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">setup</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">eager</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// vite \u751F\u6210\u7684\u4EE3\u7801</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">setup</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">__glob__0_0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/foo.js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">setup</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">__glob__0_1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/bar.js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> modules </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">./dir/foo.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> __glob__0_0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">./dir/bar.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> __glob__0_1</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u8BBE\u7F6E <code>import</code> \u4E3A <code>default</code> \u53EF\u4EE5\u52A0\u8F7D\u9ED8\u8BA4\u5BFC\u51FA\u3002</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> modules </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">meta</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">glob</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/*.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">import</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">default</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">eager</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// vite \u751F\u6210\u7684\u4EE3\u7801</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> __glob__0_0 </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/foo.js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> __glob__0_1 </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/bar.js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> modules </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">./dir/foo.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> __glob__0_0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">./dir/bar.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> __glob__0_1</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h4 id="custom-queries" tabindex="-1">\u81EA\u5B9A\u4E49\u67E5\u8BE2 <a class="header-anchor" href="#custom-queries">\xB6</a></h4><p>\u4F60\u4E5F\u53EF\u4EE5\u4F7F\u7528 <code>query</code> \u9009\u9879\u6765\u63D0\u4F9B\u5BF9\u5BFC\u5165\u7684\u81EA\u5B9A\u4E49\u67E5\u8BE2\uFF0C\u4EE5\u4F9B\u5176\u4ED6\u63D2\u4EF6\u4F7F\u7528\u3002</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> modules </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">meta</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">glob</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/*.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">query</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">foo</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bar</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">bar</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// vite \u751F\u6210\u7684\u4EE3\u7801</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> modules </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">./dir/foo.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/foo.js?foo=bar&amp;bar=true</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">m</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> m</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">setup)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">./dir/bar.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dir/bar.js?foo=bar&amp;bar=true</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">m</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> m</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">setup)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="glob-\u5BFC\u5165\u6CE8\u610F\u4E8B\u9879" tabindex="-1">Glob \u5BFC\u5165\u6CE8\u610F\u4E8B\u9879 <a class="header-anchor" href="#glob-\u5BFC\u5165\u6CE8\u610F\u4E8B\u9879">\xB6</a></h3><p>\u8BF7\u6CE8\u610F\uFF1A</p><ul><li>\u8FD9\u53EA\u662F\u4E00\u4E2A Vite \u72EC\u6709\u7684\u529F\u80FD\u800C\u4E0D\u662F\u4E00\u4E2A Web \u6216 ES \u6807\u51C6</li><li>\u8BE5 Glob \u6A21\u5F0F\u4F1A\u88AB\u5F53\u6210\u5BFC\u5165\u6807\u8BC6\u7B26\uFF1A\u5FC5\u987B\u662F\u76F8\u5BF9\u8DEF\u5F84\uFF08\u4EE5 <code>./</code> \u5F00\u5934\uFF09\u6216\u7EDD\u5BF9\u8DEF\u5F84\uFF08\u4EE5 <code>/</code> \u5F00\u5934\uFF0C\u76F8\u5BF9\u4E8E\u9879\u76EE\u6839\u76EE\u5F55\u89E3\u6790\uFF09\u6216\u4E00\u4E2A\u522B\u540D\u8DEF\u5F84\uFF08\u8BF7\u770B <a href="/config/shared-options.html#resolve-alias"><code>resolve.alias</code> \u9009\u9879</a>)\u3002</li><li>Glob \u5339\u914D\u662F\u4F7F\u7528 <a href="https://github.com/mrmlnc/fast-glob" target="_blank" rel="noopener noreferrer">fast-glob</a> \u6765\u5B9E\u73B0\u7684 \u2014\u2014 \u9605\u8BFB\u5B83\u7684\u6587\u6863\u6765\u67E5\u9605 <a href="https://github.com/mrmlnc/fast-glob#pattern-syntax" target="_blank" rel="noopener noreferrer">\u652F\u6301\u7684 Glob \u6A21\u5F0F</a>\u3002</li><li>\u4F60\u8FD8\u9700\u6CE8\u610F\uFF0C\u6240\u6709 <code>import.<wbr>meta.glob</code> \u7684\u53C2\u6570\u90FD\u5FC5\u987B\u4EE5\u5B57\u9762\u91CF\u4F20\u5165\u3002\u4F60 <strong>\u4E0D</strong> \u53EF\u4EE5\u5728\u5176\u4E2D\u4F7F\u7528\u53D8\u91CF\u6216\u8868\u8FBE\u5F0F\u3002</li></ul><h2 id="dynamic-import" tabindex="-1">\u52A8\u6001\u5BFC\u5165 <a class="header-anchor" href="#dynamic-import">\xB6</a></h2><p>\u548C <a href="#glob-import">glob \u5BFC\u5165</a> \u7C7B\u4F3C\uFF0CVite \u4E5F\u652F\u6301\u5E26\u53D8\u91CF\u7684\u52A8\u6001\u5BFC\u5165\u3002</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> module </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">./dir/</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">file</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">.js</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>\u6CE8\u610F\u53D8\u91CF\u4EC5\u4EE3\u8868\u4E00\u5C42\u6DF1\u7684\u6587\u4EF6\u540D\u3002\u5982\u679C <code>file</code> \u662F <code>foo/bar</code>\uFF0C\u5BFC\u5165\u5C06\u4F1A\u5931\u8D25\u3002\u5BF9\u4E8E\u66F4\u8FDB\u9636\u7684\u4F7F\u7528\u8BE6\u60C5\uFF0C\u4F60\u53EF\u4EE5\u4F7F\u7528 <a href="#glob-import">glob \u5BFC\u5165</a> \u529F\u80FD\u3002</p><h2 id="webassembly" tabindex="-1">WebAssembly <a class="header-anchor" href="#webassembly">\xB6</a></h2><p>\u9884\u7F16\u8BD1\u7684 <code>.wasm</code> \u6587\u4EF6\u53EF\u4EE5\u901A\u8FC7 <code>?init</code> \u6765\u5BFC\u5165\u3002\u9ED8\u8BA4\u5BFC\u51FA\u4E00\u4E2A\u521D\u59CB\u5316\u51FD\u6570\uFF0C\u8FD4\u56DE\u503C\u4E3A\u6240\u5BFC\u51FA wasm \u5B9E\u4F8B\u5BF9\u8C61\u7684 Promise\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> init </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./example.wasm?init</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">init</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">instance</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">instance</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">exports</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">test</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p><code>init</code> \u51FD\u6570\u8FD8\u53EF\u4EE5\u5C06\u4F20\u9012\u7ED9 <code>WebAssembly.instantiate</code> \u7684\u5BFC\u5165\u5BF9\u8C61\u4F5C\u4E3A\u5176\u7B2C\u4E8C\u4E2A\u53C2\u6570\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#82AAFF;">init</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">imports</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">someFunc</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#676E95;font-style:italic;">/* ... */</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#676E95;font-style:italic;">/* ... */</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>\u5728\u751F\u4EA7\u6784\u5EFA\u5F53\u4E2D\uFF0C\u4F53\u79EF\u5C0F\u4E8E <code>assetInlineLimit</code> \u7684 <code>.wasm</code> \u6587\u4EF6\u5C06\u4F1A\u88AB\u5185\u8054\u4E3A base64 \u5B57\u7B26\u4E32\u3002\u5426\u5219\uFF0C\u5B83\u4EEC\u5C06\u4F5C\u4E3A\u8D44\u6E90\u590D\u5236\u5230 <code>dist</code> \u76EE\u5F55\u4E2D\uFF0C\u5E76\u6309\u9700\u83B7\u53D6\u3002</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><a href="https://github.com/WebAssembly/esm-integration" target="_blank" rel="noopener noreferrer">\u5BF9 WebAssembly \u7684 ES \u6A21\u5757\u96C6\u6210\u63D0\u6848</a> \u5C1A\u672A\u652F\u6301\u3002 \u8BF7\u4F7F\u7528 <a href="https://github.com/Menci/vite-plugin-wasm" target="_blank" rel="noopener noreferrer"><code>vite-plugin-wasm</code></a> \u6216\u5176\u4ED6\u793E\u533A\u4E0A\u7684\u63D2\u4EF6\u6765\u5904\u7406\u3002</p></div><h2 id="web-workers" tabindex="-1">Web Workers <a class="header-anchor" href="#web-workers">\xB6</a></h2><h3 id="import-with-constructors" tabindex="-1">\u901A\u8FC7\u6784\u9020\u5668\u5BFC\u5165 <a class="header-anchor" href="#import-with-constructors">\xB6</a></h3><p>\u4E00\u4E2A Web Worker \u53EF\u4EE5\u4F7F\u7528 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Worker/Worker" target="_blank" rel="noopener noreferrer"><code>new Worker()</code></a> \u548C <a href="https://developer.mozilla.org/en-US/docs/Web/API/SharedWorker/SharedWorker" target="_blank" rel="noopener noreferrer"><code>new SharedWorker()</code></a> \u5BFC\u5165\u3002\u4E0E worker \u540E\u7F00\u76F8\u6BD4\uFF0C\u8FD9\u79CD\u8BED\u6CD5\u66F4\u63A5\u8FD1\u4E8E\u6807\u51C6\uFF0C\u662F\u521B\u5EFA worker \u7684 <strong>\u63A8\u8350</strong> \u65B9\u5F0F\u3002</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> worker </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Worker</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">URL</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./worker.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">meta</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">url))</span></span>
<span class="line"></span></code></pre></div><p>worker \u6784\u9020\u51FD\u6570\u4F1A\u63A5\u53D7\u53EF\u4EE5\u7528\u6765\u521B\u5EFA \u201C\u6A21\u5757\u201D worker \u7684\u9009\u9879\uFF1A</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> worker </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Worker</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">URL</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./worker.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">meta</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">url)</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">module</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h3 id="import-with-query-suffixes" tabindex="-1">\u5E26\u6709\u67E5\u8BE2\u540E\u7F00\u7684\u5BFC\u5165 <a class="header-anchor" href="#import-with-query-suffixes">\xB6</a></h3><p>\u4F60\u53EF\u4EE5\u5728\u5BFC\u5165\u8BF7\u6C42\u4E0A\u6DFB\u52A0 <code>?worker</code> \u6216 <code>?sharedworker</code> \u67E5\u8BE2\u53C2\u6570\u6765\u76F4\u63A5\u5BFC\u5165\u4E00\u4E2A web worker \u811A\u672C\u3002\u9ED8\u8BA4\u5BFC\u51FA\u4F1A\u662F\u4E00\u4E2A\u81EA\u5B9A\u4E49 worker \u7684\u6784\u9020\u51FD\u6570\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> MyWorker </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./worker?worker</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> worker </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MyWorker</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span></code></pre></div><p>Worker \u811A\u672C\u4E5F\u53EF\u4EE5\u4F7F\u7528 <code>import</code> \u8BED\u53E5\u6765\u66FF\u4EE3 <code>importScripts()</code> \u2014\u2014 \u6CE8\u610F\uFF0C\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\uFF0C\u8FD9\u4F9D\u8D56\u4E8E\u6D4F\u89C8\u5668\u539F\u751F\u652F\u6301\uFF0C\u76EE\u524D\u53EA\u5728 Chrome \u4E2D\u9002\u7528\uFF0C\u800C\u5728\u751F\u4EA7\u7248\u672C\u4E2D\uFF0C\u5B83\u5DF2\u7ECF\u88AB\u7F16\u8BD1\u6389\u4E86\u3002</p><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0Cworker \u811A\u672C\u5C06\u5728\u751F\u4EA7\u6784\u5EFA\u4E2D\u7F16\u8BD1\u6210\u5355\u72EC\u7684 chunk\u3002\u5982\u679C\u4F60\u60F3\u5C06 worker \u5185\u8054\u4E3A base64 \u5B57\u7B26\u4E32\uFF0C\u8BF7\u6DFB\u52A0 <code>inline</code> \u67E5\u8BE2\u53C2\u6570\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> MyWorker </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./worker?worker&amp;inline</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre></div><p>\u5982\u679C\u4F60\u60F3\u8981\u4EE5\u4E00\u4E2A URL \u7684\u5F62\u5F0F\u8BFB\u53D6\u8BE5 worker\uFF0C\u8BF7\u6DFB\u52A0 <code>url</code> \u8FD9\u4E2A query\uFF1A</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> MyWorker </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./worker?worker&amp;url</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre></div><p>\u5173\u4E8E\u5982\u4F55\u914D\u7F6E\u6253\u5305\u5168\u90E8 worker\uFF0C\u53EF\u4EE5\u67E5\u770B <a href="/config/worker-options.html">Worker \u9009\u9879</a> \u4E86\u89E3\u66F4\u591A\u76F8\u5173\u7EC6\u8282\u3002</p><h2 id="build-optimizations" tabindex="-1">\u6784\u5EFA\u4F18\u5316 <a class="header-anchor" href="#build-optimizations">\xB6</a></h2><blockquote><p>\u4E0B\u9762\u6240\u7F57\u5217\u7684\u529F\u80FD\u4F1A\u81EA\u52A8\u5E94\u7528\u4E3A\u6784\u5EFA\u8FC7\u7A0B\u7684\u4E00\u90E8\u5206\uFF0C\u9664\u975E\u4F60\u60F3\u7981\u7528\u5B83\u4EEC\uFF0C\u5426\u5219\u6CA1\u6709\u5FC5\u8981\u663E\u5F0F\u914D\u7F6E\u3002</p></blockquote><h3 id="css-code-splitting" tabindex="-1">CSS \u4EE3\u7801\u5206\u5272 <a class="header-anchor" href="#css-code-splitting">\xB6</a></h3><p>Vite \u4F1A\u81EA\u52A8\u5730\u5C06\u4E00\u4E2A\u5F02\u6B65 chunk \u6A21\u5757\u4E2D\u4F7F\u7528\u5230\u7684 CSS \u4EE3\u7801\u62BD\u53D6\u51FA\u6765\u5E76\u4E3A\u5176\u751F\u6210\u4E00\u4E2A\u5355\u72EC\u7684\u6587\u4EF6\u3002\u8FD9\u4E2A CSS \u6587\u4EF6\u5C06\u5728\u8BE5\u5F02\u6B65 chunk \u52A0\u8F7D\u5B8C\u6210\u65F6\u81EA\u52A8\u901A\u8FC7\u4E00\u4E2A <code>&lt;link&gt;</code> \u6807\u7B7E\u8F7D\u5165\uFF0C\u8BE5\u5F02\u6B65 chunk \u4F1A\u4FDD\u8BC1\u53EA\u5728 CSS \u52A0\u8F7D\u5B8C\u6BD5\u540E\u518D\u6267\u884C\uFF0C\u907F\u514D\u53D1\u751F <a href="https://en.wikipedia.org/wiki/Flash_of_unstyled_content#:~:text=A%20flash%20of%20unstyled%20content,before%20all%20information%20is%20retrieved." target="_blank" rel="noopener noreferrer">FOUC</a> \u3002</p><p>\u5982\u679C\u4F60\u66F4\u503E\u5411\u4E8E\u5C06\u6240\u6709\u7684 CSS \u62BD\u53D6\u5230\u4E00\u4E2A\u6587\u4EF6\u4E2D\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6E <a href="/config/build-options.html#build-csscodesplit"><code>build.cssCodeSplit</code></a> \u4E3A <code>false</code> \u6765\u7981\u7528 CSS \u4EE3\u7801\u5206\u5272\u3002</p><h3 id="preload-directives-generation" tabindex="-1">\u9884\u52A0\u8F7D\u6307\u4EE4\u751F\u6210 <a class="header-anchor" href="#preload-directives-generation">\xB6</a></h3><p>Vite \u4F1A\u4E3A\u5165\u53E3 chunk \u548C\u5B83\u4EEC\u5728\u6253\u5305\u51FA\u7684 HTML \u4E2D\u7684\u76F4\u63A5\u5F15\u5165\u81EA\u52A8\u751F\u6210 <code>&lt;link rel=&quot;modulepreload&quot;&gt;</code> \u6307\u4EE4\u3002</p><h3 id="async-chunk-loading-optimization" tabindex="-1">\u5F02\u6B65 Chunk \u52A0\u8F7D\u4F18\u5316 <a class="header-anchor" href="#async-chunk-loading-optimization">\xB6</a></h3><p>\u5728\u5B9E\u9645\u9879\u76EE\u4E2D\uFF0CRollup \u901A\u5E38\u4F1A\u751F\u6210 \u201C\u5171\u7528\u201D chunk \u2014\u2014 \u88AB\u4E24\u4E2A\u6216\u4EE5\u4E0A\u7684\u5176\u4ED6 chunk \u5171\u4EAB\u7684 chunk\u3002\u4E0E\u52A8\u6001\u5BFC\u5165\u76F8\u7ED3\u5408\uFF0C\u4F1A\u5F88\u5BB9\u6613\u51FA\u73B0\u4E0B\u9762\u8FD9\u79CD\u573A\u666F\uFF1A</p>`,166),r=s(`<p>\u5728\u65E0\u4F18\u5316\u7684\u60C5\u5883\u4E0B\uFF0C\u5F53\u5F02\u6B65 chunk <code>A</code> \u88AB\u5BFC\u5165\u65F6\uFF0C\u6D4F\u89C8\u5668\u5C06\u5FC5\u987B\u8BF7\u6C42\u548C\u89E3\u6790 <code>A</code>\uFF0C\u7136\u540E\u5B83\u624D\u80FD\u5F04\u6E05\u695A\u5B83\u4E5F\u9700\u8981\u5171\u7528 chunk <code>C</code>\u3002\u8FD9\u4F1A\u5BFC\u81F4\u989D\u5916\u7684\u7F51\u7EDC\u5F80\u8FD4\uFF1A</p><div class="language-"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">Entry ---&gt; A ---&gt; C</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>Vite \u5C06\u4F7F\u7528\u4E00\u4E2A\u9884\u52A0\u8F7D\u6B65\u9AA4\u81EA\u52A8\u91CD\u5199\u4EE3\u7801\uFF0C\u6765\u5206\u5272\u52A8\u6001\u5BFC\u5165\u8C03\u7528\uFF0C\u4EE5\u5B9E\u73B0\u5F53 <code>A</code> \u88AB\u8BF7\u6C42\u65F6\uFF0C<code>C</code> \u4E5F\u5C06 <strong>\u540C\u65F6</strong> \u88AB\u8BF7\u6C42\uFF1A</p><div class="language-"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">Entry ---&gt; (A + C)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><code>C</code> \u4E5F\u53EF\u80FD\u6709\u66F4\u6DF1\u7684\u5BFC\u5165\uFF0C\u5728\u672A\u4F18\u5316\u7684\u573A\u666F\u4E2D\uFF0C\u8FD9\u4F1A\u5BFC\u81F4\u66F4\u591A\u7684\u7F51\u7EDC\u5F80\u8FD4\u3002Vite \u7684\u4F18\u5316\u4F1A\u8DDF\u8E2A\u6240\u6709\u7684\u76F4\u63A5\u5BFC\u5165\uFF0C\u65E0\u8BBA\u5BFC\u5165\u7684\u6DF1\u5EA6\u5982\u4F55\uFF0C\u90FD\u80FD\u591F\u5B8C\u5168\u6D88\u9664\u4E0D\u5FC5\u8981\u7684\u5F80\u8FD4\u3002</p>`,5),A=JSON.parse('{"title":"\u529F\u80FD","description":"","frontmatter":{},"headers":[{"level":2,"title":"NPM \u4F9D\u8D56\u89E3\u6790\u548C\u9884\u6784\u5EFA","slug":"npm-dependency-resolving-and-pre-bundling"},{"level":2,"title":"\u6A21\u5757\u70ED\u66FF\u6362","slug":"hot-module-replacement"},{"level":2,"title":"TypeScript","slug":"typescript"},{"level":3,"title":"TypeScript \u7F16\u8BD1\u5668\u9009\u9879","slug":"typescript-compiler-options"},{"level":3,"title":"\u5BA2\u6237\u7AEF\u7C7B\u578B","slug":"client-types"},{"level":2,"title":"Vue","slug":"vue"},{"level":2,"title":"JSX","slug":"jsx"},{"level":2,"title":"CSS","slug":"css"},{"level":3,"title":"@import \u5185\u8054\u548C\u53D8\u57FA","slug":"import-inlining-and-rebasing"},{"level":3,"title":"PostCSS","slug":"postcss"},{"level":3,"title":"CSS Modules","slug":"css-modules"},{"level":3,"title":"CSS \u9884\u5904\u7406\u5668","slug":"css-pre-processors"},{"level":3,"title":"\u7981\u7528 CSS \u6CE8\u5165\u9875\u9762","slug":"disabling-css-injection-into-the-page"},{"level":2,"title":"\u9759\u6001\u8D44\u6E90\u5904\u7406","slug":"static-assets"},{"level":2,"title":"JSON","slug":"json"},{"level":2,"title":"Glob \u5BFC\u5165","slug":"glob-import"},{"level":3,"title":"Glob \u5BFC\u5165\u5F62\u5F0F","slug":"glob-import-as"},{"level":3,"title":"\u591A\u4E2A\u5339\u914D\u6A21\u5F0F","slug":"multiple-patterns"},{"level":3,"title":"\u53CD\u9762\u5339\u914D\u6A21\u5F0F","slug":"negative-patterns"},{"level":3,"title":"Glob \u5BFC\u5165\u6CE8\u610F\u4E8B\u9879","slug":"glob-\u5BFC\u5165\u6CE8\u610F\u4E8B\u9879"},{"level":2,"title":"\u52A8\u6001\u5BFC\u5165","slug":"dynamic-import"},{"level":2,"title":"WebAssembly","slug":"webassembly"},{"level":2,"title":"Web Workers","slug":"web-workers"},{"level":3,"title":"\u901A\u8FC7\u6784\u9020\u5668\u5BFC\u5165","slug":"import-with-constructors"},{"level":3,"title":"\u5E26\u6709\u67E5\u8BE2\u540E\u7F00\u7684\u5BFC\u5165","slug":"import-with-query-suffixes"},{"level":2,"title":"\u6784\u5EFA\u4F18\u5316","slug":"build-optimizations"},{"level":3,"title":"CSS \u4EE3\u7801\u5206\u5272","slug":"css-code-splitting"},{"level":3,"title":"\u9884\u52A0\u8F7D\u6307\u4EE4\u751F\u6210","slug":"preload-directives-generation"},{"level":3,"title":"\u5F02\u6B65 Chunk \u52A0\u8F7D\u4F18\u5316","slug":"async-chunk-loading-optimization"}],"relativePath":"guide/features.md"}'),D={name:"guide/features.md"},d=Object.assign(D,{setup(y){return(i,F)=>{const a=p("svg-image");return e(),n("div",null,[c,l(a,{svg:o(t)},null,8,["svg"]),r])}}});export{A as __pageData,d as default};
