import{bc as e,d as t,r as s,a,o as n,c as r,w as l,b as o,l as i,t as c,z as u,g as p,h as d,p as f,k as m,i as y,u as x,e as g,n as _,F as b,f as v,S as k,j as h,m as j,aN as w,bd as C,be as O}from"./index.11096ec6.js";import{_ as z}from"./u-avatar.1007c5ff.js";import{_ as I}from"./u-icon.5ed808e6.js";import{_ as L}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as S}from"./u-image.427e7f49.js";import{n as U}from"./util.9e38efcf.js";import{_ as F}from"./tabbar.vue_vue_type_script_setup_true_lang.c61322ac.js";import{a as N}from"./shop.126a76fe.js";const B=L(t({__name:"user-info",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},user:{type:Object,default:()=>({})},isLogin:{type:Boolean}},setup(t){const{copy:x}={copy:t=>{e({data:String(t)})}};return(e,g)=>{const _=s(a("u-avatar"),z),b=m,v=y,k=s(a("u-icon"),I);return n(),r(b,{class:"user-info flex px-[50rpx] justify-between py-[50rpx]"},{default:l((()=>[t.isLogin?(n(),r(b,{key:0,class:"flex items-center",onClick:g[1]||(g[1]=e=>{f({url:"/pages/user_data/user_data"})})},{default:l((()=>[o(_,{src:t.user.avatar,size:120},null,8,["src"]),o(b,{class:"text-white ml-[20rpx]"},{default:l((()=>[o(b,{class:"text-2xl"},{default:l((()=>[i(c(t.user.nickname),1)])),_:1}),o(b,{class:"text-xs mt-[18rpx]",onClick:g[0]||(g[0]=u((e=>p(x)(t.user.account)),["stop"]))},{default:l((()=>[i(" 账号："+c(t.user.account),1)])),_:1})])),_:1})])),_:1})):(n(),r(v,{key:1,class:"flex items-center","hover-class":"none",url:"/pages/login/login"},{default:l((()=>[o(_,{src:"/static/images/user/default_avatar.png",size:120}),o(b,{class:"text-white text-3xl ml-[20rpx]"},{default:l((()=>[i("未登录")])),_:1})])),_:1})),t.isLogin?(n(),r(v,{key:2,"hover-class":"none",url:"/pages/user_set/user_set"},{default:l((()=>[o(k,{name:"setting",color:"#fff",size:48})])),_:1})):d("v-if",!0)])),_:1})}}}),[["__scopeId","data-v-689e79a6"]]),J=t({__name:"my-service",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const{getImageUrl:t}=x(),r=e=>{U(e)};return(l,i)=>{const u=s(a("u-image"),S),f=s(a("u-icon"),I);return n(),g("div",{class:"my-service bg-white mx-[20rpx] mt-[20rpx] rounded-lg"},[e.content.title?(n(),g("div",{key:0,class:"title px-[30rpx] py-[20rpx] font-medium text-xl border-light border-solid border-0 border-b"},[_("div",null,c(e.content.title),1)])):d("v-if",!0),1==e.content.style?(n(),g("div",{key:1,class:"flex flex-wrap pt-[40rpx] pb-[20rpx]"},[(n(!0),g(b,null,v(e.content.data,((e,s)=>(n(),g("div",{key:s,class:"flex flex-col items-center w-1/4 mb-[15px]",onClick:t=>r(e.link)},[o(u,{width:"52",height:"52",src:p(t)(e.image),alt:""},null,8,["src"]),_("div",{class:"mt-[7px]"},c(e.name),1)],8,["onClick"])))),128))])):d("v-if",!0),2==e.content.style?(n(),g("div",{key:2},[(n(!0),g(b,null,v(e.content.data,((e,s)=>(n(),g("div",{key:s,class:"flex items-center border-light border-solid border-0 border-b h-[100rpx] px-[24rpx]",onClick:t=>r(e.link)},[o(u,{width:"48",height:"48",src:p(t)(e.image),alt:""},null,8,["src"]),_("div",{class:"ml-[20rpx] flex-1"},c(e.name),1),_("div",{class:"text-muted"},[o(f,{name:"arrow-right"})])],8,["onClick"])))),128))])):d("v-if",!0)])}}}),q=t({__name:"user-banner",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const{getImageUrl:t}=x();return(i,c)=>{const u=s(a("u-image"),S),f=k,y=h,x=m;return e.content.data.length&&e.content.enabled?(n(),r(x,{key:0,class:"banner h-[200rpx] mx-[20rpx] mt-[20rpx] translate-y-0"},{default:l((()=>[o(y,{class:"swiper h-full","indicator-dots":e.content.data.length>1,"indicator-active-color":"#4173ff",autoplay:!0},{default:l((()=>[(n(!0),g(b,null,v(e.content.data,((e,s)=>(n(),r(f,{key:s,onClick:t=>{return s=e.limk,void U(s);var s}},{default:l((()=>[o(u,{mode:"aspectFit",width:"100%",height:"100%",src:p(t)(e.image),"border-radius":14},null,8,["src"])])),_:2},1032,["onClick"])))),128))])),_:1},8,["indicator-dots"])])),_:1})):d("v-if",!0)}}}),A=t({__name:"user",setup(e){const t=j({pages:[]}),i=w(),{userInfo:c,isLogin:u}=C(i);return O((()=>{i.getUser()})),(async()=>{const e=await N({id:2});t.pages=JSON.parse(e.data)})(),(e,i)=>{const f=s(a("w-user-info"),B),y=s(a("w-my-service"),J),x=s(a("w-user-banner"),q),_=m,k=s(a("tabbar"),F);return n(),r(_,{class:"user"},{default:l((()=>[(n(!0),g(b,null,v(t.pages,((e,t)=>(n(),r(_,{key:t},{default:l((()=>["user-info"==e.name?(n(),r(f,{key:0,content:e.content,styles:e.styles,user:p(c),"is-login":p(u)},null,8,["content","styles","user","is-login"])):d("v-if",!0),"my-service"==e.name?(n(),r(y,{key:1,content:e.content,styles:e.styles},null,8,["content","styles"])):d("v-if",!0),"user-banner"==e.name?(n(),r(x,{key:2,content:e.content,styles:e.styles},null,8,["content","styles"])):d("v-if",!0)])),_:2},1024)))),128)),o(k)])),_:1})}}});export{A as default};
