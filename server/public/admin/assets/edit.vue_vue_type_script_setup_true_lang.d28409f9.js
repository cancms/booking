import{B as v,C as w,v as D,D as x}from"./element-plus.4c84fed9.js";import{a as B,b as C}from"./role.d3c03386.js";import{P as y}from"./index.ce9653e5.js";import{d as R,s as c,r as h,e as k,$ as U,o as g,c as I,U as l,L as t,u as N}from"./@vue.e8706010.js";const P={class:"edit-popup"},j=R({__name:"edit",emits:["success","close"],setup(q,{expose:i,emit:m}){const p=c(),n=c(),r=h("add"),f=k(()=>r.value=="edit"?"\u7F16\u8F91\u89D2\u8272":"\u65B0\u589E\u89D2\u8272"),o=U({id:"",name:"",role_code:"",desc:"",sort:0,menu_id:[]}),_={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:["blur"]}]},F=async()=>{var u,e;await((u=p.value)==null?void 0:u.validate()),r.value=="edit"?await B(o):await C(o),(e=n.value)==null||e.close(),m("success")},E=()=>{m("close")};return i({open:(u="add")=>{var e;r.value=u,(e=n.value)==null||e.open()},setFormData:async u=>{for(const e in o)u[e]!=null&&u[e]!=null&&(o[e]=u[e])}}),(u,e)=>{const d=v,s=w,V=D,b=x;return g(),I("div",P,[l(y,{ref_key:"popupRef",ref:n,title:N(f),async:!0,width:"550px",onConfirm:F,onClose:E},{default:t(()=>[l(b,{class:"ls-form",ref_key:"formRef",ref:p,rules:_,model:o,"label-width":"80px"},{default:t(()=>[l(s,{label:"\u540D\u79F0",prop:"name"},{default:t(()=>[l(d,{class:"ls-input",modelValue:o.name,"onUpdate:modelValue":e[0]||(e[0]=a=>o.name=a),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),l(s,{label:"\u89D2\u8272\u4EE3\u53F7",prop:"role_code"},{default:t(()=>[l(d,{class:"ls-input",modelValue:o.role_code,"onUpdate:modelValue":e[1]||(e[1]=a=>o.role_code=a),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u4EE3\u53F7",clearable:""},null,8,["modelValue"])]),_:1}),l(s,{label:"\u5907\u6CE8",prop:"desc"},{default:t(()=>[l(d,{modelValue:o.desc,"onUpdate:modelValue":e[2]||(e[2]=a=>o.desc=a),type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1}),l(s,{label:"\u6392\u5E8F",prop:"sort"},{default:t(()=>[l(V,{modelValue:o.sort,"onUpdate:modelValue":e[3]||(e[3]=a=>o.sort=a),min:0,max:9999},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{j as _};
