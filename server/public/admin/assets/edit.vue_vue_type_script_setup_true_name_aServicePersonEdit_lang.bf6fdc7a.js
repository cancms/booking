import{B as w,C as x,D as y}from"./element-plus.4c84fed9.js";import{_ as k}from"./index.vue_vue_type_style_index_0_lang.028ddbac.js";import{_ as P}from"./picker.22059d9c.js";import{P as R}from"./index.ce9653e5.js";import{a as h,b as S,c as U}from"./a_service_person.a4f0c1b4.js";import"./lodash.ded75160.js";import{d as f,s as m,r as g,e as I,$ as c,o as $,c as j,U as a,L as n,u as L}from"./@vue.e8706010.js";const N={class:"edit-popup"},O=f({name:"aServicePersonEdit"}),Q=f({...O,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(T,{expose:_,emit:d}){const p=m(),s=m(),i=g("add"),B=I(()=>i.value=="edit"?"\u7F16\u8F91\u670D\u52A1\u4EBA\u5458\u8868":"\u65B0\u589E\u670D\u52A1\u4EBA\u5458\u8868"),o=c({id:"",name:"",brief_intro:"",introduction:"",avatar:""}),v=c({}),E=async u=>{const e=await h({id:u.id});for(const t in o)e[t]!=null&&e[t]!=null&&(o[t]=e[t])},b=async()=>{var e,t;await((e=p.value)==null?void 0:e.validate());const u={...o};i.value=="edit"?await S(u):await U(u),(t=s.value)==null||t.close(),d("success")},V=(u="add")=>{var e;i.value=u,(e=s.value)==null||e.open()},A=()=>{d("close")};return _({open:V,setFormData:E}),(u,e)=>{const t=w,r=x,C=P,D=k,F=y;return $(),j("div",N,[a(R,{ref_key:"popupRef",ref:s,title:L(B),async:!0,width:"850px",onConfirm:b,onClose:A},{default:n(()=>[a(F,{ref_key:"formRef",ref:p,model:o,"label-width":"90px",rules:v},{default:n(()=>[a(r,{label:"\u540D\u5B57",prop:"name"},{default:n(()=>[a(t,{modelValue:o.name,"onUpdate:modelValue":e[0]||(e[0]=l=>o.name=l),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u670D\u52A1\u4EBA\u5458\u540D\u5B57"},null,8,["modelValue"])]),_:1}),a(r,{label:"\u7B80\u4ECB",prop:"brief_intro"},{default:n(()=>[a(t,{modelValue:o.brief_intro,"onUpdate:modelValue":e[1]||(e[1]=l=>o.brief_intro=l),rows:2,type:"textarea",maxlength:"250",placeholder:"\u8BF7\u8F93\u5165\u670D\u52A1\u4EBA\u5458\u7B80\u4ECB"},null,8,["modelValue"])]),_:1}),a(r,{label:"\u5934\u50CF",prop:"introduction"},{default:n(()=>[a(C,{modelValue:o.avatar,"onUpdate:modelValue":e[2]||(e[2]=l=>o.avatar=l),limit:1},null,8,["modelValue"])]),_:1}),a(r,{label:"\u8BE6\u7EC6\u4ECB\u7ECD",prop:"introduction"},{default:n(()=>[a(D,{class:"flex-1",modelValue:o.introduction,"onUpdate:modelValue":e[3]||(e[3]=l=>o.introduction=l),height:300},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{Q as _};
